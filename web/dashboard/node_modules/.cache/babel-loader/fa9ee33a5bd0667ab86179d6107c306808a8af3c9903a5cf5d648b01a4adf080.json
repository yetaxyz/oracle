{"ast":null,"code":"var _jsxFileName = \"/root/oracle/web/dashboard/src/components/PriceTable.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, CircularProgress, Box, Typography, Alert, styled, Tooltip } from '@mui/material';\nimport axios from 'axios';\nimport { formatDistanceToNow } from 'date-fns';\nimport SourceDetailModal from './SourceDetailModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SYMBOLS = ['BTCUSDT', 'ETHUSDT', 'BNBUSDT', 'XRPUSDT', 'ADAUSDT'];\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || (window.location.hostname === 'localhost' ? 'http://localhost:8080' : `http://${window.location.hostname}:8080`);\nconst formatCurrency = num => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD'\n  }).format(num);\n};\nconst formatNumber = (num, options = {}) => {\n  const defaultOptions = {\n    maximumFractionDigits: 2\n  };\n  return new Intl.NumberFormat('en-US', {\n    ...defaultOptions,\n    ...options\n  }).format(num);\n};\nconst PriceCell = styled(TableCell)(({\n  theme,\n  change\n}) => ({\n  transition: 'background-color 0.5s ease-out',\n  backgroundColor: change === 'up' ? theme.palette.success.light + '30' : change === 'down' ? theme.palette.error.light + '30' : 'inherit'\n}));\n_c = PriceCell;\nconst PriceTable = () => {\n  _s();\n  const [prices, setPrices] = useState([]);\n  const [previousPrices, setPreviousPrices] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [selectedSymbol, setSelectedSymbol] = useState(null);\n  const [sourceDetails, setSourceDetails] = useState(null);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [modalError, setModalError] = useState(null);\n  const priceChangeRef = useRef({});\n  const fetchPrices = useCallback(async () => {\n    try {\n      const requests = SYMBOLS.map(symbol => axios.get(`${API_BASE_URL}/api/v1/prices/${symbol}`));\n      const responses = await Promise.allSettled(requests);\n      const currentPrices = {};\n      const fetchedPrices = [];\n      responses.forEach((result, index) => {\n        const symbol = SYMBOLS[index];\n        if (result.status === 'fulfilled') {\n          const data = result.value.data;\n          const newPrice = {\n            symbol: data.symbol,\n            price: data.price,\n            volume: data.volume,\n            source: data.source,\n            timestamp: data.timestamp\n          };\n          fetchedPrices.push(newPrice);\n          currentPrices[symbol] = newPrice.price;\n          if (previousPrices[symbol] !== undefined && previousPrices[symbol] !== newPrice.price) {\n            priceChangeRef.current[symbol] = newPrice.price > previousPrices[symbol] ? 'up' : 'down';\n          } else {\n            delete priceChangeRef.current[symbol];\n          }\n        } else {\n          console.error(`Error fetching price for ${symbol}:`, result.reason);\n        }\n      });\n      setPreviousPrices(currentPrices);\n      setPrices(fetchedPrices);\n      if (error) setError(null);\n    } catch (error) {\n      console.error('Error fetching prices:', error);\n      setError('Failed to fetch cryptocurrency prices. Please ensure the oracle server is running.');\n    } finally {\n      setTimeout(() => {\n        priceChangeRef.current = {};\n        setPrices(prev => [...prev]);\n      }, 1000);\n      if (loading) setLoading(false);\n    }\n  }, [previousPrices, loading, error]);\n  useEffect(() => {\n    fetchPrices();\n    const interval = setInterval(fetchPrices, 10000);\n    return () => clearInterval(interval);\n  }, [fetchPrices]);\n  const handleRowClick = async symbol => {\n    if (!symbol) return;\n    setSelectedSymbol(symbol);\n    setModalOpen(true);\n    setModalLoading(true);\n    setModalError(null);\n    setSourceDetails(null);\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/v1/prices/${symbol}/sources`);\n      setSourceDetails(response.data);\n    } catch (err) {\n      console.error(`Error fetching source details for ${symbol}:`, err);\n      let errorMsg = 'Failed to fetch source details.';\n      if (err.response && err.response.data && err.response.data.error && err.response.data.error.message) {\n        errorMsg = err.response.data.error.message;\n      }\n      setModalError(errorMsg);\n    } finally {\n      setModalLoading(false);\n    }\n  };\n  const handleCloseModal = () => {\n    setModalOpen(false);\n    setSelectedSymbol(null);\n    setSourceDetails(null);\n    setModalLoading(false);\n    setModalError(null);\n  };\n  if (loading && prices.length === 0) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      sx: {\n        minHeight: '200px'\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      p: 2,\n      overflow: 'hidden'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      sx: {\n        mb: 3\n      },\n      children: \"Oracle Price Feed\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), error && !loading && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      sx: {\n        maxHeight: 600\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        stickyHeader: true,\n        size: \"small\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Symbol\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Volume (Aggregated)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Last Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: [prices.map(row => {\n            const change = priceChangeRef.current[row.symbol];\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              hover: true,\n              onClick: () => handleRowClick(row.symbol),\n              sx: {\n                cursor: 'pointer'\n              },\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                component: \"th\",\n                scope: \"row\",\n                sx: {\n                  fontWeight: 'medium'\n                },\n                children: row.symbol\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(PriceCell, {\n                align: \"right\",\n                change: change,\n                children: formatCurrency(row.price)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: formatNumber(row.volume)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: new Date(row.timestamp).toLocaleString(),\n                  placement: \"top\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: formatDistanceToNow(new Date(row.timestamp), {\n                      addSuffix: true\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 26\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 22\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this)]\n            }, row.symbol, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this);\n          }), prices.length === 0 && !loading && /*#__PURE__*/_jsxDEV(TableRow, {\n            children: /*#__PURE__*/_jsxDEV(TableCell, {\n              colSpan: 4,\n              align: \"center\",\n              children: \"No price data available.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SourceDetailModal, {\n      open: modalOpen,\n      onClose: handleCloseModal,\n      symbol: selectedSymbol,\n      details: sourceDetails,\n      loading: modalLoading,\n      error: modalError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n};\n_s(PriceTable, \"vYAUOEbSzql1TvaG/5b7bR01w+E=\");\n_c2 = PriceTable;\nexport default PriceTable;\nvar _c, _c2;\n$RefreshReg$(_c, \"PriceCell\");\n$RefreshReg$(_c2, \"PriceTable\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","CircularProgress","Box","Typography","Alert","styled","Tooltip","axios","formatDistanceToNow","SourceDetailModal","jsxDEV","_jsxDEV","SYMBOLS","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","window","location","hostname","formatCurrency","num","Intl","NumberFormat","style","currency","format","formatNumber","options","defaultOptions","maximumFractionDigits","PriceCell","theme","change","transition","backgroundColor","palette","success","light","error","_c","PriceTable","_s","prices","setPrices","previousPrices","setPreviousPrices","loading","setLoading","setError","modalOpen","setModalOpen","selectedSymbol","setSelectedSymbol","sourceDetails","setSourceDetails","modalLoading","setModalLoading","modalError","setModalError","priceChangeRef","fetchPrices","requests","map","symbol","get","responses","Promise","allSettled","currentPrices","fetchedPrices","forEach","result","index","status","data","value","newPrice","price","volume","source","timestamp","push","undefined","current","console","reason","setTimeout","prev","interval","setInterval","clearInterval","handleRowClick","response","err","errorMsg","message","handleCloseModal","length","display","justifyContent","alignItems","sx","minHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","elevation","p","overflow","variant","gutterBottom","mb","severity","maxHeight","stickyHeader","size","align","row","hover","onClick","cursor","component","scope","fontWeight","title","Date","toLocaleString","placement","addSuffix","colSpan","open","onClose","details","_c2","$RefreshReg$"],"sources":["/root/oracle/web/dashboard/src/components/PriceTable.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport {\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  CircularProgress,\n  Box,\n  Typography,\n  Alert,\n  styled,\n  Tooltip\n} from '@mui/material';\nimport axios from 'axios';\nimport { formatDistanceToNow } from 'date-fns';\nimport SourceDetailModal from './SourceDetailModal';\n\nconst SYMBOLS = ['BTCUSDT', 'ETHUSDT', 'BNBUSDT', 'XRPUSDT', 'ADAUSDT'];\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || (window.location.hostname === 'localhost' ? 'http://localhost:8080' : `http://${window.location.hostname}:8080`);\n\nconst formatCurrency = (num) => {\n    return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(num);\n};\n\nconst formatNumber = (num, options = {}) => {\n  const defaultOptions = { maximumFractionDigits: 2 };\n  return new Intl.NumberFormat('en-US', { ...defaultOptions, ...options }).format(num);\n};\n\nconst PriceCell = styled(TableCell)(({ theme, change }) => ({\n  transition: 'background-color 0.5s ease-out',\n  backgroundColor: change === 'up'\n    ? theme.palette.success.light + '30'\n    : change === 'down'\n    ? theme.palette.error.light + '30'\n    : 'inherit',\n}));\n\nconst PriceTable = () => {\n  const [prices, setPrices] = useState([]);\n  const [previousPrices, setPreviousPrices] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const [modalOpen, setModalOpen] = useState(false);\n  const [selectedSymbol, setSelectedSymbol] = useState(null);\n  const [sourceDetails, setSourceDetails] = useState(null);\n  const [modalLoading, setModalLoading] = useState(false);\n  const [modalError, setModalError] = useState(null);\n\n  const priceChangeRef = useRef({});\n\n  const fetchPrices = useCallback(async () => {\n    try {\n      const requests = SYMBOLS.map(symbol =>\n        axios.get(`${API_BASE_URL}/api/v1/prices/${symbol}`)\n      );\n\n      const responses = await Promise.allSettled(requests);\n      const currentPrices = {};\n      const fetchedPrices = [];\n\n      responses.forEach((result, index) => {\n        const symbol = SYMBOLS[index];\n        if (result.status === 'fulfilled') {\n          const data = result.value.data;\n          const newPrice = {\n            symbol: data.symbol,\n            price: data.price,\n            volume: data.volume,\n            source: data.source,\n            timestamp: data.timestamp,\n          };\n          fetchedPrices.push(newPrice);\n          currentPrices[symbol] = newPrice.price;\n          if (previousPrices[symbol] !== undefined && previousPrices[symbol] !== newPrice.price) {\n              priceChangeRef.current[symbol] = newPrice.price > previousPrices[symbol] ? 'up' : 'down';\n          } else {\n              delete priceChangeRef.current[symbol];\n          }\n        } else {\n          console.error(`Error fetching price for ${symbol}:`, result.reason);\n        }\n      });\n\n      setPreviousPrices(currentPrices);\n      setPrices(fetchedPrices);\n      if(error) setError(null);\n\n    } catch (error) {\n      console.error('Error fetching prices:', error);\n      setError('Failed to fetch cryptocurrency prices. Please ensure the oracle server is running.');\n    } finally {\n      setTimeout(() => {\n        priceChangeRef.current = {};\n        setPrices(prev => [...prev]);\n      }, 1000);\n\n      if(loading) setLoading(false);\n    }\n  }, [previousPrices, loading, error]);\n\n  useEffect(() => {\n    fetchPrices();\n    const interval = setInterval(fetchPrices, 10000);\n    return () => clearInterval(interval);\n  }, [fetchPrices]);\n\n  const handleRowClick = async (symbol) => {\n    if (!symbol) return;\n    setSelectedSymbol(symbol);\n    setModalOpen(true);\n    setModalLoading(true);\n    setModalError(null);\n    setSourceDetails(null);\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/v1/prices/${symbol}/sources`);\n      setSourceDetails(response.data);\n    } catch (err) {\n        console.error(`Error fetching source details for ${symbol}:`, err);\n        let errorMsg = 'Failed to fetch source details.';\n        if(err.response && err.response.data && err.response.data.error && err.response.data.error.message){\n            errorMsg = err.response.data.error.message;\n        }\n        setModalError(errorMsg);\n    } finally {\n        setModalLoading(false);\n    }\n  };\n\n  const handleCloseModal = () => {\n    setModalOpen(false);\n    setSelectedSymbol(null);\n    setSourceDetails(null);\n    setModalLoading(false);\n    setModalError(null);\n  };\n\n  if (loading && prices.length === 0) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" sx={{ minHeight: '200px' }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <Paper elevation={3} sx={{ p: 2, overflow: 'hidden' }}>\n      <Typography variant=\"h5\" gutterBottom sx={{ mb: 3 }}>\n        Oracle Price Feed\n      </Typography>\n\n      {error && !loading && (\n         <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>\n      )}\n\n      <TableContainer sx={{ maxHeight: 600 }}>\n        <Table stickyHeader size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Symbol</TableCell>\n              <TableCell align=\"right\">Price</TableCell>\n              <TableCell align=\"right\">Volume (Aggregated)</TableCell>\n              <TableCell align=\"right\">Last Update</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {prices.map((row) => {\n              const change = priceChangeRef.current[row.symbol];\n              return (\n                <TableRow\n                   key={row.symbol}\n                   hover\n                   onClick={() => handleRowClick(row.symbol)}\n                   sx={{ cursor: 'pointer' }}\n                 >\n                  <TableCell component=\"th\" scope=\"row\" sx={{ fontWeight: 'medium' }}>\n                    {row.symbol}\n                  </TableCell>\n                  <PriceCell align=\"right\" change={change}>\n                     {formatCurrency(row.price)}\n                  </PriceCell>\n                  <TableCell align=\"right\">\n                    {formatNumber(row.volume)}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                     <Tooltip title={new Date(row.timestamp).toLocaleString()} placement=\"top\">\n                         <span>{formatDistanceToNow(new Date(row.timestamp), { addSuffix: true })}</span>\n                     </Tooltip>\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n             {prices.length === 0 && !loading && (\n                <TableRow>\n                    <TableCell colSpan={4} align=\"center\">\n                        No price data available.\n                    </TableCell>\n                </TableRow>\n             )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      <SourceDetailModal\n        open={modalOpen}\n        onClose={handleCloseModal}\n        symbol={selectedSymbol}\n        details={sourceDetails}\n        loading={modalLoading}\n        error={modalError}\n      />\n    </Paper>\n  );\n};\n\nexport default PriceTable; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}